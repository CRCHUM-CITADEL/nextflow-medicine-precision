{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "$id": "https://raw.githubusercontent.com/CRCHUM-CITADEL/nextflow-sante-precision/assets/schema_genomic_input.json",
    "title": "CRCHUM-CITADEL/nextflow-sante-precision genomic pipeline parameters",
    "description": "Pipeline Nextflow pour besoins des projets santé de précision, pipeline genomique",
    "type": "array",
    "items": {
        "type": "object",
        "properties": {
            "group_id": {
                "type": "string",
                "pattern": "^\\S+$",
                "errorMessage": "Group id cannot contain spaces",
                "meta": "group"
            },
            "subject_id": {
                "type": "string",
                "pattern": "^(?:\\d+|\\S+)$",
                "errorMessage": "Subject id must be provided and cannot contain spaces",
                "meta": "subject"
            },
            "sample_id": {
                "type": "integer",
                "pattern": "^\\d+$",
                "errorMessage": "sample_id must be provided cannot contain spaces",
                "meta": "sample"
            },
            "sample_type": {
                "type": "string",
                "errorMessage": "sample_type must be provided and be one of 'somatic', 'germinal'",
                "enum": ["somatic", "germinal"],
                "meta": "type"
            },
            "sequence_data": {
                "type": "string",
                "errorMessage": "sequence_data must be provided and be one of 'dna', 'rna'",
                "enum": ["dna", "rna"],
                "meta": "sequence"
            },
            "filetype": {
                "type": "string",
                "errorMessage": "filetype must be provided and be one of 'vcf.gz'",
                "enum": ["cnv", "sv", "expression", "hard_filtered"],
                "meta": "pipeline"
            },
            "info": {
                "type": "string",
                "meta": "information"
            },
            "filepath": {
                "type": "string",
                "pattern": "^\\S+\\.(?:vcf\\.gz|final|sf)$",
                "errorMessage": "Filepath to genomic data must be provided and must have extension '.vcf.gz'",
                "meta": "file"
            }
        },
        "required": ["subject_id", "sample_id", "sample_type", "sequence_data", "filetype", "filepath"]
    }
}
